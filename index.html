<!DOCTYPE html>

<html>
<head>
	<title>Train Time</title>
	<link rel="stylesheet" type="text/css" href="style.css">
	<link href="https://fonts.googleapis.com/css?family=Crimson+Text" rel="stylesheet">

</head>


<body>

	<div class="container">

		<!-- header area -->
		<div class="jumbortron">
			<h1 class="header-top">Anytime is Train Time</h1>
		</div>

		<!-- add train area -->
		<div class="col-lg-6">
			<div class="panel-default">
				<div class="panel-heading">
					<h3 class="panel-title">Current Train Schedule</h3>
				</div>



				<div class="panel-body" id="new-train">
					<table class="train-table">
						<thead>
							<tr>
								<th><i class="train-name"></i>Train Name</th>
								<th><i class="destination"></i>Destination</th>
								<th><i class="frequency"></i>Frequency (min)</th>
								<th><i class="next-arrival"></i>Next Arrival</th>
								<th><i class="minutes-away"></i>Minutes Away</th>
							</tr>
						</thead>
						<tbody>
							<tr class="train-schedules">
								<td>Trenton Express</td>
								<td>Trenton</td>
								<td>25</td>
								<td>05:35 PM</td>
								<td>10</td>
							</tr>
						</tbody>
						<tbody>
							<tr class="train-schedules">
								<td>Oregon Trail</td>
								<td>Salem, Oregon</td>
								<td>3600</td>
								<td>01:39 PM</td>
								<td>1154</td>
							</tr>
						</tbody>
						<tbody>
							<tr class="train-schedules">
								<td>Midnight Carriage</td>
								<td>Philadelphia</td>
								<td>15</td>
								<td>05:35 PM</td>
								<td>10</td>
							</tr>
						</tbody>
						<tbody>
							<tr class="train-schedules">
								<td>Sing Sing Caravan</td>
								<td>Atlanta</td>
								<td>45</td>
								<td>05:53 PM</td>
								<td>25</td>
							</tr>
						</tbody>
						<tbody>
							<tr class="train-schedules">
								<td>Boston Bus</td>
								<td>Boston</td>
								<td>65</td>
								<td>05:50 PM</td>
								<td>25</td>
							</tr>
						</tbody>
						<tbody>
							<tr class="train-schedules">
								<td>California Caravan</td>
								<td>San Francisco</td>
								<td>6000</td>
								<td>01:25 PM</td>
								<td>4740</td>
							</tr>
						</tbody>	
						<tbody>
							<tr class="train-schedules">
								<td>Analben's Train</td>
								<td>Florida</td>
								<td>25</td>
								<td>05:28 PM</td>
								<td>3</td>
							</tr>
						</tbody>																									
					</table>

					<pagination [boundaryLinks]="true" [totalItems]="totalItems" [itemsPerPage]="itemsPerPage" [(ngModel)]="currentPage" class="pagination-sm"
					previousText="&lsaquo;" nextText="&rsaquo;" firstText="&laquo;" lastText="&raquo;" (pageChanged)="pageChanged($event)"></pagination>
				</div>

				<!-- add train area -->
				<div class="row">
					<div class="col-lg-6">
						<div class="panel-heading">
							<h3 class="panel-title">Add Train</h3>
						</div>
						<div class="panel-body">

							<!-- form input area -->
							<form role="form">
								<div class="form-group">
									<label for="name-input">Train Name</label>
									<input class="form-control" id="name-input" type="text">
								</div>
								<div class="form-group">
									<label for="destination-input">Destination</label>
									<input class="form-control" id="destination-input" type="text">
								</div>
								<div class="form-group">
									<label for="first-train-input">First Train time (HH:mm - military time)</label>
									<input type="form-control" id="first-train-input" type="number">
								</div>
								<div class="form-group">
									<label for="frequency-input">Frequency (min)</label>
									<input type="form-control" id="frequency-input" type="number">
								</div>
								<button class="btn-submit" id="add-train" type="submit">Submit</button>
							</form>
						</div>
					</div>
				</div>

	<div class="panel-body" id="recent-member">
            <p id="name-display">name-display</h2>
            <p id="destination-display">destination-display</h4>
            <p id="first-train-input-display">first-train-input-display</h4>
            <p id="frequency-display">frequency-display</p>
    </div>

	<!-- jQuery -->
	<script src="https://code.jquery.com/jquery.js"></script>
	
	<!-- JavaScript -->
  	<script>
  		// on click event
  		$("#add-train").on("click", function(event) {

      	// prevent page from refreshing when form tries to submit itself
      	event.preventDefault();

		// Capture user inputs and store them into variables
	    var name = $("#name-input").val().trim();
	    var destination = $("#destination-input").val().trim();
	    var firstTrain = $("#first-train-input").val().trim();
	    var frequency = $("#frequency-input").val().trim();

		// Console log each of the user inputs to confirm we are receiving them
	    console.log(name);
	    console.log(destination);
	    console.log(firstTrain);
	    console.log(frequency);


      	// Replaces the content in the "Current Train Schedule" div with the new train info
      	$("#name-display").text(name);
      	$("#destination-display").text(destination);
      	$("#first-train-input-display").text(firstTrain);
      	$("#frequency-display").text(frequency);

      	// Clear localStorage
      	localStorage.clear();

      	// Store all content into localStorage
      	localStorage.setItem("name", name);
      	localStorage.setItem("destination", destination);
      	localStorage.setItem("firstTrain", firstTrain);
      	localStorage.setItem("frequency", frequency);
    	});

  		// By default display the content from localStorage
    	$("#name-display").text(localStorage.getItem("name") || '');
    	$("#destination-display").text(localStorage.getItem("destination") || '');
    	$("#first-train-input-display").text(localStorage.getItem("firstTrain") || '');
    	$("#frequency-display").text(localStorage.getItem("frequency") || '');


	</script>

</body>

</html>